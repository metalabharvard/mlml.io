<li class="project-preview h-entry" role="listitem" {{ printf "data-id=%q" .project.Slug | safeHTMLAttr }}>
  <a href="{{ .project.Slug | absURL }}" class="u-url u-uid preview-link {{ if .project.Params.cover.url }}hasImage{{ end }}">
    {{ with .project.Params.cover.url }}
    <img {{ printf "src=%q" . | safeHTMLAttr }} class="preview-image" />
    {{ end }}
    <span class="project-title p-name">{{ .project.Params.Title }}</span><span class="project-tag">{{ .CurrentSection }}</span>
    <footer>
      {{ if .type }}
      <span class="project-type p-category">{{ .type | title  }}</span>
      {{ else }}
      {{ partial "span-mediation.html" (dict "mediation" .project.Params.Mediation "default" .defaultMediation) }}
      {{ end }}
      {{ partial "span-timespan.html" (dict "start" .project.Params.Start "end" .project.Params.End) }}
      {{ partial "span-host.html" (dict "host" .project.Params.host "type" "project" "default" .defaultHost) }}
    </footer>
  </a>
</li>